<!DOCTYPE html>
<html>
<head>
    <title>Rownd Auth Test</title>
    <meta name="apple-itunes-app" content="app-clip-bundle-id=rownd.rownd-ios-demo.Clip,app-clip-display=card">
</head>
<body>
    <h1>Welcome!</h1>
    
    <!-- User greeting with field interpolation -->
    <p data-rownd-field-interpolate>
        Hello, {{ email }}!
    </p>

    <!-- Sign in button with automatic text change when authenticated -->
    <button 
        data-rownd-sign-in-trigger
        data-rownd-authenticated-text="Sign Out">
        Sign In
    </button>

<!-- Test different URL formats -->
<h1>App Clip Test Links</h1>
<ul>
    <!-- Format 1: Basic -->
    <li>
        <a href="https://ios-rownd-test-site.pages.dev/appclip?_clipPath=/appclip">
            Basic Test Link
        </a>
    </li>

    <!-- Format 2: With trailing slash -->
    <li>
        <a href="https://ios-rownd-test-site.pages.dev/appclip/?_clipPath=/appclip">
            Test with trailing slash
        </a>
    </li>

    <!-- Format 3: Different path format -->
    <li>
        <a href="https://ios-rownd-test-site.pages.dev/appclip?_clipPath=/appclip/test">
            Test with subpath
        </a>
    </li>

    <!-- Format 4: Direct scheme -->
    <li>
        <a href="appclip://ios-rownd-test-site.pages.dev/appclip">
            Direct App Clip scheme
        </a>
    </li>
</ul>

<h1>App Clip Test Links</h1>
<ul>
    <li>
        <a href="/appclip">Direct Path</a>
    </li>
    <li>
        <a href="/appclip?_clipPath=/appclip">With Clip Path</a>
    </li>
</ul>

    <div id="debug">
        <p>User Agent: <script>document.write(navigator.userAgent)</script></p>
        <p>Protocol: <script>document.write(window.location.protocol)</script></p>
    </div>


    <!-- Rownd initialization script -->
    <script>
        !function () { 
            var e = window._rphConfig = window._rphConfig || [];
            let t = window.localStorage.getItem("rph_base_url_override") || "https://hub.rownd.io";
            e.push(["setBaseUrl", t]);
            var r = document, s = r.createElement("script"), m = r.createElement("script"), 
                a = r.getElementsByTagName("script")[0];
            s.type = "text/javascript", s.noModule = !0, s.async = !0, 
            s.src = t + "/static/scripts/rph.js", a.parentNode.insertBefore(s, a);
            m.type = "module", m.async = !0, m.src = t + "/static/scripts/rph.mjs", 
            a.parentNode.insertBefore(m, a);
        }();
        _rphConfig.push(["setAppKey", "key_vtmm2snuajd7ysplaudrduvq"]);
    </script>
</body>
</html>